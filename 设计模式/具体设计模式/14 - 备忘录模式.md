>[[大话设计模式.pdf#page=313&selection=4,1,9,1|备忘录模式 - Memento]]
## 核心思想

> 在不破坏封装性的前提下，捕获一个对象的内 部状态，并在该对象之外保存这个状态。这样以后就可将该对象恢复到原先保存的状态。

- 发起人：Originator，需要保持状态的对象，创建一个备忘录并记录其当前状态
- 备忘录：Momento，存储发起人内部状态的对象，可以保护状态不被发起人以外的对象访问
- 管理者：Caretaker，负责保存备忘录，但不修改备忘录内容。
## 优势

- 状态恢复
- 封装性：封装了发起人的内部状态
- 简化发起人：历史状态由备忘录和管理者负责
## 缺陷

- 资源消耗，状态数据很多很大会非常消耗内存
- 性能影响
## UML

![[备忘录模式.png]]
## 场景

> Memento模式比较适用于功能比较复杂的，但需要维护或记录属性历史的类，或者需要保存的属性只是众多属性中的一小部分时，Originator可以根据保存的Memento信息还原到前一状态