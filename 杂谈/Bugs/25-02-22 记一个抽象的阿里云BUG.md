
![[阿里云UDP4500bug.png]]

## 背景

外包项目，主要面向日本客户群体，服务器为一台甲方提供的阿里云香港区ECS，配置不支持单机撑起一个k8s集群，需要与华东区的腾讯云集群local互联，共用es、apifox等减少内存占用

为互联两个集群，采用了submariner。该工具底层使用UDP协议连接两个集群(具体原理没深究)，默认采用4500端口，虽然提供了配置参数能够修改连接的端口，但是没用😅，必须使用4500接口

但是这台阿里云机器作为客户端从UDP:4500发送数据时，百分百丢包，死活不成功，又找了几台机器测试才确定，只有这一台甲方提供的机器的UDP:4500会丢包，并且别的端口不会🤣

最后提了oncall，battle了半天的结果是申请特殊更换ip......
